---
title: "شناسایی و حذف داده های تکراری"
description: |
  در این پست به شما نشان خواهم که چطور با استفاده از R و کتابخانه dplyr مشاهدات تکراری را پیدا و حذف کنیم.
  
author:
  - name: mcnakhes
    url: mcnakhaee.com
date: 12-04-2020
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

R دو تابع از پیش ساخته شده دارد که به ما این امکان را می دهند که مقادیر تکراری را پیدا و حذف کنیم.

1. تابع  `duplicated`به ما می‌گوید که کدام مقادیر (مشاهدات) تکراری هستند( بیش از یکی از آن‌ها در داده‌ها وجود دارد)
2. تابع `unique` هم به کمک می‌کند که مقادیر یکتا را در دیتاست پیدا کنیم.)

به علاوه کتابخانه dplyr یک تابع `distinct` دارد که مشاهدات متمایز یک دیتافریم را به ما برمی گرداند.

```{r}
library(tidyverse)
library(dadegan)
```

برای نشان داد قابلیت های این توابع بگذارید از دیتاست آهنگ های خواننده های ایرانی بر روی اسپاتیفای استفاده کنیم.

```{r}
glimpse(spotify)
```


همانطور که می بیینم در این دیتاست 10632 آهنگ وجود دارد.

```{r}
spotify %>%
  nrow()
```
حالا می خواهیم با استفاده از تابع `unique` ببینیم کدام خواننده‌های فارسی زبانی در این دیتاست داریم.

```{r}
unique(spotify$artist_name_farsi)
```

حالا از تابع `distinct` استفاده می‌کنیم تا مشخص کنیم چند آهنگ متمایز در این دیتاست داریم.

```{r}
spotify %>%
  distinct(track_id) %>%
  nrow()
```


بله همانطور که در نتایج میبینیم تعدادی از آهنگ‌ها تکراری هستند. حالا بیاییم با استفاده از تابع `duplicated` بررسی کنیم که این آهنگ‌ها دقیقاً چه هستند. 

```{r}
spotify$track_name[duplicated(spotify$track_id)][1:20]
```



